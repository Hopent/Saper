<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.4"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>My Project: click_handler.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">My Project
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.4 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search",'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">click_handler.h File Reference</div></div>
</div><!--header-->
<div class="contents">

<p>Main file of the project.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;stdio.h&gt;</code><br />
<code>#include &lt;allegro.h&gt;</code><br />
<code>#include &lt;time.h&gt;</code><br />
<code>#include &lt;unistd.h&gt;</code><br />
<code>#include &quot;<a class="el" href="settings__handler_8h_source.html">settings_handler.h</a>&quot;</code><br />
</div>
<p><a href="click__handler_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a2e7ab24c114cf1698086e314e7740022"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="click__handler_8h.html#a2e7ab24c114cf1698086e314e7740022">check_clicked</a> (int element, int *block_array_pointer, BITMAP *buffer, BITMAP *BITMAPS_LIST[], struct <a class="el" href="structustawienia.html">ustawienia</a> *settings, SAMPLE *clicked_block_music, SAMPLE *explosion)</td></tr>
<tr class="separator:a2e7ab24c114cf1698086e314e7740022"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa91465fd84c47e6a4bd18e9a576144ef"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="click__handler_8h.html#aa91465fd84c47e6a4bd18e9a576144ef">odslon_kwadrat</a> (int element, int *block_array_pointer, BITMAP *buffer, BITMAP *BITMAPS_LIST[], struct <a class="el" href="structustawienia.html">ustawienia</a> *settings)</td></tr>
<tr class="separator:aa91465fd84c47e6a4bd18e9a576144ef"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p >Main file of the project. </p>
<dl class="section author"><dt>Author</dt><dd>Maciej Kwiecinski </dd></dl>
<dl class="section date"><dt>Date</dt><dd>29.05.2022 </dd></dl>

<p class="definition">Definition in file <a class="el" href="click__handler_8h_source.html">click_handler.h</a>.</p>
</div><h2 class="groupheader">Function Documentation</h2>
<a id="a2e7ab24c114cf1698086e314e7740022" name="a2e7ab24c114cf1698086e314e7740022"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2e7ab24c114cf1698086e314e7740022">&#9670;&nbsp;</a></span>check_clicked()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void check_clicked </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>element</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>block_array_pointer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">BITMAP *&#160;</td>
          <td class="paramname"><em>buffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">BITMAP *&#160;</td>
          <td class="paramname"><em>BITMAPS_LIST</em>[], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structustawienia.html">ustawienia</a> *&#160;</td>
          <td class="paramname"><em>settings</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">SAMPLE *&#160;</td>
          <td class="paramname"><em>clicked_block_music</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">SAMPLE *&#160;</td>
          <td class="paramname"><em>explosion</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Function used to check already clicked block This function will check block number that we will delivery as parameter and depends on the value end the game or reveal it. This function will also play a sound after click and reveal everything if the clicked block is actually a bomb. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">element</td><td>This is number of actual checking block. It is needed to check proper element from block_array_pointer array. </td></tr>
    <tr><td class="paramname">block_array_pointer</td><td>This is pointer to to table with block's values. </td></tr>
    <tr><td class="paramname">buffer</td><td>This is pointer to BITMAP we use as a buffer for screen visualizing. </td></tr>
    <tr><td class="paramname">BITMAPS_LIST</td><td>This is pointer to table with all the bitmaps used for drawing. </td></tr>
    <tr><td class="paramname">settings</td><td>This is pointer to settings structure with one will have most of the informations like how many blocks are there, how many bombs and stuff like that... </td></tr>
    <tr><td class="paramname">clicked_block_music</td><td>This is pointer to SAMPLE data type, with sound of the clicked block. </td></tr>
    <tr><td class="paramname">explosion</td><td>This is pointer to SAMPLE data type, with sound of the explosion. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="map__and__drawing__handler_8c.html#aaf7ce947663aa3772bfd7b8a44e419e0">odslon_wszystko()</a> <a class="el" href="click__handler_8h.html#aa91465fd84c47e6a4bd18e9a576144ef">odslon_kwadrat()</a> <a class="el" href="click__handler_8h.html#a2e7ab24c114cf1698086e314e7740022">check_clicked()</a> </dd></dl>

<p class="definition">Definition at line <a class="el" href="click__handler_8c_source.html#l00022">22</a> of file <a class="el" href="click__handler_8c_source.html">click_handler.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   22</span>                                                                                                                                                                        {</div>
<div class="line"><span class="lineno">   23</span>        <span class="keywordflow">if</span>(block_array_pointer[element]&lt;300&amp;&amp;(*settings).lose_state==0&amp;&amp;(*settings).win_state==0){</div>
<div class="line"><span class="lineno">   24</span>            <span class="keywordflow">if</span>(block_array_pointer[element]!=15&amp;&amp;block_array_pointer[element]&lt;50){play_sample(clicked_block_music, 255, 0, 1000, 0);play_sample(clicked_block_music,255,255,1000,0);}</div>
<div class="line"><span class="lineno">   25</span>            <span class="keywordflow">if</span>(block_array_pointer[element]==15){</div>
<div class="line"><span class="lineno">   26</span>                play_sample(explosion,255,0, 1000,0);</div>
<div class="line"><span class="lineno">   27</span>                play_sample(explosion,255,255, 1000,0);</div>
<div class="line"><span class="lineno">   28</span>                block_array_pointer[element]=25;</div>
<div class="line"><span class="lineno">   29</span>                <a class="code hl_function" href="map__and__drawing__handler_8c.html#aaf7ce947663aa3772bfd7b8a44e419e0">odslon_wszystko</a>(block_array_pointer,buffer,BITMAPS_LIST,settings);</div>
<div class="line"><span class="lineno">   30</span>            }</div>
<div class="line"><span class="lineno">   31</span>            <span class="keywordflow">if</span>(block_array_pointer[element]&lt;10){</div>
<div class="line"><span class="lineno">   32</span>                <a class="code hl_function" href="click__handler_8c.html#aa91465fd84c47e6a4bd18e9a576144ef">odslon_kwadrat</a>(element,block_array_pointer,buffer,BITMAPS_LIST,settings);</div>
<div class="line"><span class="lineno">   33</span>                block_array_pointer[element] = block_array_pointer[element]+50;</div>
<div class="line"><span class="lineno">   34</span>                <span class="keywordflow">if</span>(block_array_pointer[element]-50==0){</div>
<div class="line"><span class="lineno">   35</span>                    <span class="comment">//gora</span></div>
<div class="line"><span class="lineno">   36</span>                    <span class="keywordflow">if</span>(element&gt;(*settings).block_count){</div>
<div class="line"><span class="lineno">   37</span>                         <a class="code hl_function" href="click__handler_8c.html#a2e7ab24c114cf1698086e314e7740022">check_clicked</a>(element-(*settings).block_count,block_array_pointer,buffer,BITMAPS_LIST,settings,clicked_block_music,explosion);</div>
<div class="line"><span class="lineno">   38</span>                    }</div>
<div class="line"><span class="lineno">   39</span>                    <span class="comment">//prawo</span></div>
<div class="line"><span class="lineno">   40</span>                    <span class="keywordflow">if</span>((element%(*settings).block_count)!=0){</div>
<div class="line"><span class="lineno">   41</span>                        <a class="code hl_function" href="click__handler_8c.html#a2e7ab24c114cf1698086e314e7740022">check_clicked</a>(element+1,block_array_pointer,buffer,BITMAPS_LIST,settings,clicked_block_music,explosion);</div>
<div class="line"><span class="lineno">   42</span>                    }</div>
<div class="line"><span class="lineno">   43</span>                    <span class="comment">//dol</span></div>
<div class="line"><span class="lineno">   44</span>                    <span class="keywordflow">if</span>((element+(*settings).block_count)&lt;((*settings).block_count*(*settings).block_count)){</div>
<div class="line"><span class="lineno">   45</span>                            <a class="code hl_function" href="click__handler_8c.html#a2e7ab24c114cf1698086e314e7740022">check_clicked</a>(element+(*settings).block_count,block_array_pointer,buffer,BITMAPS_LIST,settings,clicked_block_music,explosion);</div>
<div class="line"><span class="lineno">   46</span>                       }</div>
<div class="line"><span class="lineno">   47</span>                    <span class="comment">//lewo</span></div>
<div class="line"><span class="lineno">   48</span>                    <span class="keywordflow">if</span>(element%(*settings).block_count!=1){</div>
<div class="line"><span class="lineno">   49</span>                            <a class="code hl_function" href="click__handler_8c.html#a2e7ab24c114cf1698086e314e7740022">check_clicked</a>(element-1,block_array_pointer,buffer,BITMAPS_LIST,settings,clicked_block_music,explosion);</div>
<div class="line"><span class="lineno">   50</span>                    }</div>
<div class="line"><span class="lineno">   51</span>                }</div>
<div class="line"><span class="lineno">   52</span>            }</div>
<div class="line"><span class="lineno">   53</span>        }</div>
<div class="line"><span class="lineno">   54</span>}</div>
<div class="ttc" id="aclick__handler_8c_html_a2e7ab24c114cf1698086e314e7740022"><div class="ttname"><a href="click__handler_8c.html#a2e7ab24c114cf1698086e314e7740022">check_clicked</a></div><div class="ttdeci">void check_clicked(int element, int *block_array_pointer, BITMAP *buffer, BITMAP *BITMAPS_LIST[], struct ustawienia *settings, SAMPLE *clicked_block_music, SAMPLE *explosion)</div><div class="ttdef"><b>Definition:</b> <a href="click__handler_8c_source.html#l00022">click_handler.c:22</a></div></div>
<div class="ttc" id="aclick__handler_8c_html_aa91465fd84c47e6a4bd18e9a576144ef"><div class="ttname"><a href="click__handler_8c.html#aa91465fd84c47e6a4bd18e9a576144ef">odslon_kwadrat</a></div><div class="ttdeci">void odslon_kwadrat(int element, int *block_array_pointer, BITMAP *buffer, BITMAP *BITMAPS_LIST[], struct ustawienia *settings)</div><div class="ttdef"><b>Definition:</b> <a href="click__handler_8c_source.html#l00064">click_handler.c:64</a></div></div>
<div class="ttc" id="amap__and__drawing__handler_8c_html_aaf7ce947663aa3772bfd7b8a44e419e0"><div class="ttname"><a href="map__and__drawing__handler_8c.html#aaf7ce947663aa3772bfd7b8a44e419e0">odslon_wszystko</a></div><div class="ttdeci">void odslon_wszystko(int *block_array_pointer, BITMAP *buffer, BITMAP *BITMAPS_LIST[], struct ustawienia *settings)</div><div class="ttdef"><b>Definition:</b> <a href="map__and__drawing__handler_8c_source.html#l00082">map_and_drawing_handler.c:82</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="aa91465fd84c47e6a4bd18e9a576144ef" name="aa91465fd84c47e6a4bd18e9a576144ef"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa91465fd84c47e6a4bd18e9a576144ef">&#9670;&nbsp;</a></span>odslon_kwadrat()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void odslon_kwadrat </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>element</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>block_array_pointer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">BITMAP *&#160;</td>
          <td class="paramname"><em>buffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">BITMAP *&#160;</td>
          <td class="paramname"><em>BITMAPS_LIST</em>[], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structustawienia.html">ustawienia</a> *&#160;</td>
          <td class="paramname"><em>settings</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Function used to draw/reveal a block. It will also calculate coordinates, where should it draw it. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">element</td><td>This is number of actual checking block. It is needed to check proper element from block_array_pointer array. </td></tr>
    <tr><td class="paramname">block_array_pointer</td><td>This is pointer to to table with block's values. </td></tr>
    <tr><td class="paramname">buffer</td><td>This is pointer to BITMAP we use as a buffer for screen visualizing. </td></tr>
    <tr><td class="paramname">BITMAPS_LIST</td><td>This is pointer to table with all the bitmaps used for drawing. </td></tr>
    <tr><td class="paramname">settings</td><td>This is pointer to settings structure with one will have most of the informations like how many blocks are there, how many bombs and stuff like that... </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="click__handler_8c_source.html#l00064">64</a> of file <a class="el" href="click__handler_8c_source.html">click_handler.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   64</span>                                                                                                                           {</div>
<div class="line"><span class="lineno">   65</span>            <span class="keywordtype">int</span> x = (*settings).starting_x+((element-1)%(*settings).block_count)*(*settings).block_size;</div>
<div class="line"><span class="lineno">   66</span>            <span class="keywordtype">int</span> y = (*settings).starting_y+((element - (element-1)%(*settings).block_count)/(*settings).block_count)*(*settings).block_size;</div>
<div class="line"><span class="lineno">   67</span>            draw_sprite(buffer,BITMAPS_LIST[block_array_pointer[element]],x,y);</div>
<div class="line"><span class="lineno">   68</span>}</div>
</div><!-- fragment -->
</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.4
</small></address>
</body>
</html>
