\hypertarget{game__state__handler_8c}{}\doxysection{game\+\_\+state\+\_\+handler.\+c File Reference}
\label{game__state__handler_8c}\index{game\_state\_handler.c@{game\_state\_handler.c}}


Map and drawing handler file.  


{\ttfamily \#include \char`\"{}game\+\_\+state\+\_\+handler.\+h\char`\"{}}\newline
\doxysubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
void \mbox{\hyperlink{game__state__handler_8c_af678fcdc6accef9bccb5042e0982ea15}{losuj\+\_\+bomby}} (int $\ast$array, struct \mbox{\hyperlink{structustawienia}{ustawienia}} $\ast$settings)
\item 
void \mbox{\hyperlink{game__state__handler_8c_a7d8c564be3e41d93b7ad76740696f2ae}{restart\+\_\+game}} (int $\ast$block\+\_\+array\+\_\+pointer, BITMAP $\ast$buffer, BITMAP $\ast$standard\+\_\+block, struct \mbox{\hyperlink{structustawienia}{ustawienia}} $\ast$settings)
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
Map and drawing handler file. 

\begin{DoxyAuthor}{Author}
Maciej Kwiecinski 
\end{DoxyAuthor}
\begin{DoxyDate}{Date}
29.\+05.\+2022 
\end{DoxyDate}


Definition in file \mbox{\hyperlink{game__state__handler_8c_source}{game\+\_\+state\+\_\+handler.\+c}}.



\doxysubsection{Function Documentation}
\mbox{\Hypertarget{game__state__handler_8c_af678fcdc6accef9bccb5042e0982ea15}\label{game__state__handler_8c_af678fcdc6accef9bccb5042e0982ea15}} 
\index{game\_state\_handler.c@{game\_state\_handler.c}!losuj\_bomby@{losuj\_bomby}}
\index{losuj\_bomby@{losuj\_bomby}!game\_state\_handler.c@{game\_state\_handler.c}}
\doxysubsubsection{\texorpdfstring{losuj\_bomby()}{losuj\_bomby()}}
{\footnotesize\ttfamily void losuj\+\_\+bomby (\begin{DoxyParamCaption}\item[{int $\ast$}]{array,  }\item[{struct \mbox{\hyperlink{structustawienia}{ustawienia}} $\ast$}]{settings }\end{DoxyParamCaption})}

Function used to \char`\"{}random\char`\"{} draw coordinates of the bombs and change value of that block. This function is activated on every start/restart of the game. 
\begin{DoxyParams}{Parameters}
{\em array} & This is pointer to table with blocks values. \\
\hline
{\em settings} & This is pointer to settings structure with one will have most of the informations like how many blocks are there, how many bombs and stuff like that... \\
\hline
\end{DoxyParams}


Definition at line \mbox{\hyperlink{game__state__handler_8c_source_l00016}{16}} of file \mbox{\hyperlink{game__state__handler_8c_source}{game\+\_\+state\+\_\+handler.\+c}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00016                                                         \{}
\DoxyCodeLine{00017     \textcolor{keywordtype}{int} i;}
\DoxyCodeLine{00018     \textcolor{keywordtype}{int} liczba=0;}
\DoxyCodeLine{00019     \textcolor{keywordflow}{for}(i=(*settings).bomb\_count;i>0;i-\/-\/)\{}
\DoxyCodeLine{00020             liczba =1+rand()\%((*settings).block\_count*(*settings).block\_count);}
\DoxyCodeLine{00021         \textcolor{keywordflow}{if}(array[liczba]!=15)\{}
\DoxyCodeLine{00022             array[liczba]=15;}
\DoxyCodeLine{00023         \}\textcolor{keywordflow}{else}\{}
\DoxyCodeLine{00024             i++;}
\DoxyCodeLine{00025         \}}
\DoxyCodeLine{00026     \}}
\DoxyCodeLine{00027 \}}

\end{DoxyCode}
\mbox{\Hypertarget{game__state__handler_8c_a7d8c564be3e41d93b7ad76740696f2ae}\label{game__state__handler_8c_a7d8c564be3e41d93b7ad76740696f2ae}} 
\index{game\_state\_handler.c@{game\_state\_handler.c}!restart\_game@{restart\_game}}
\index{restart\_game@{restart\_game}!game\_state\_handler.c@{game\_state\_handler.c}}
\doxysubsubsection{\texorpdfstring{restart\_game()}{restart\_game()}}
{\footnotesize\ttfamily void restart\+\_\+game (\begin{DoxyParamCaption}\item[{int $\ast$}]{block\+\_\+array\+\_\+pointer,  }\item[{BITMAP $\ast$}]{buffer,  }\item[{BITMAP $\ast$}]{standard\+\_\+block,  }\item[{struct \mbox{\hyperlink{structustawienia}{ustawienia}} $\ast$}]{settings }\end{DoxyParamCaption})}

Function used to restart the game. This function will change mostly everything to start new game. 
\begin{DoxyParams}{Parameters}
{\em block\+\_\+array\+\_\+pointer} & This is pointer to to table with block\textquotesingle{}s values. \\
\hline
{\em buffer} & This is pointer to BITMAP we use as a buffer for screen visualizing. \\
\hline
{\em standard\+\_\+block} & This is pointer to standard block, because after restart we will use only normal blocks to draw the board of the game. \\
\hline
{\em settings} & This is pointer to settings structure with one will have most of the informations like how many blocks are there, how many bombs and stuff like that... \\
\hline
\end{DoxyParams}
\begin{DoxySeeAlso}{See also}
\mbox{\hyperlink{main_8c_a36302217352f565fe6dc3bebbaaeb108}{wyzeruj\+\_\+tablice()}} \mbox{\hyperlink{game__state__handler_8c_af678fcdc6accef9bccb5042e0982ea15}{losuj\+\_\+bomby()}} \mbox{\hyperlink{map__and__drawing__handler_8c_abb261e06472a9480aa741681a0de9800}{sprawdz\+\_\+plansze()}} 
\end{DoxySeeAlso}


Definition at line \mbox{\hyperlink{game__state__handler_8c_source_l00038}{38}} of file \mbox{\hyperlink{game__state__handler_8c_source}{game\+\_\+state\+\_\+handler.\+c}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00038                                                                                                              \{}
\DoxyCodeLine{00039     (*settings).is\_started = 0;}
\DoxyCodeLine{00040     (*settings).win\_state = 0;}
\DoxyCodeLine{00041     (*settings).lose\_state = 0;}
\DoxyCodeLine{00042     (*settings).start\_count = (*settings).count;}
\DoxyCodeLine{00043     (*settings).block\_count+=1;}
\DoxyCodeLine{00044     clear(buffer);}
\DoxyCodeLine{00045     \mbox{\hyperlink{main_8c_a36302217352f565fe6dc3bebbaaeb108}{wyzeruj\_tablice}}(block\_array\_pointer,settings);\textcolor{comment}{//poczatkowe zerowanie tablicy -\/ kazdy blok ma stan rowny 0}}
\DoxyCodeLine{00046     (*settings).block\_count-\/=1;}
\DoxyCodeLine{00047     \mbox{\hyperlink{game__state__handler_8c_af678fcdc6accef9bccb5042e0982ea15}{losuj\_bomby}}(block\_array\_pointer,settings);}
\DoxyCodeLine{00048     \mbox{\hyperlink{map__and__drawing__handler_8c_abb261e06472a9480aa741681a0de9800}{sprawdz\_plansze}}(block\_array\_pointer,settings);}
\DoxyCodeLine{00049      \textcolor{keywordtype}{int} i=0;\textcolor{keywordtype}{int} j=0;\textcolor{comment}{//Tymczasowe zmienne do petli}}
\DoxyCodeLine{00050         \textcolor{keywordflow}{for}(i=0;i<(*settings).block\_count;i++)\{}
\DoxyCodeLine{00051             \textcolor{keywordflow}{for}(j=0;j<(*settings).block\_count;j++)\{}
\DoxyCodeLine{00052                 draw\_sprite(buffer,standard\_block,(*settings).starting\_x+(i*(*settings).block\_size),(*settings).starting\_y+(j*(*settings).block\_size));\textcolor{comment}{//Rysowanie grafiki wszystkich blokow do wirtualnego ekranu}}
\DoxyCodeLine{00053             \}}
\DoxyCodeLine{00054         \}}
\DoxyCodeLine{00055         draw\_sprite(screen,buffer,0,0);}
\DoxyCodeLine{00056 \}}

\end{DoxyCode}
